// package: threads.pb
// file: api.proto

import * as api_pb from "./api_pb";
import {grpc} from "@improbable-eng/grpc-web";

type APIGetToken = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: true;
  readonly responseStream: true;
  readonly requestType: typeof api_pb.GetTokenRequest;
  readonly responseType: typeof api_pb.GetTokenReply;
};

type APINewDB = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: false;
  readonly responseStream: false;
  readonly requestType: typeof api_pb.NewDBRequest;
  readonly responseType: typeof api_pb.NewDBReply;
};

type APINewDBFromAddr = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: false;
  readonly responseStream: false;
  readonly requestType: typeof api_pb.NewDBFromAddrRequest;
  readonly responseType: typeof api_pb.NewDBReply;
};

type APIGetDBInfo = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: false;
  readonly responseStream: false;
  readonly requestType: typeof api_pb.GetDBInfoRequest;
  readonly responseType: typeof api_pb.GetDBInfoReply;
};

type APIDeleteDB = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: false;
  readonly responseStream: false;
  readonly requestType: typeof api_pb.DeleteDBRequest;
  readonly responseType: typeof api_pb.DeleteDBReply;
};

type APINewCollection = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: false;
  readonly responseStream: false;
  readonly requestType: typeof api_pb.NewCollectionRequest;
  readonly responseType: typeof api_pb.NewCollectionReply;
};

type APICreate = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: false;
  readonly responseStream: false;
  readonly requestType: typeof api_pb.CreateRequest;
  readonly responseType: typeof api_pb.CreateReply;
};

type APISave = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: false;
  readonly responseStream: false;
  readonly requestType: typeof api_pb.SaveRequest;
  readonly responseType: typeof api_pb.SaveReply;
};

type APIDelete = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: false;
  readonly responseStream: false;
  readonly requestType: typeof api_pb.DeleteRequest;
  readonly responseType: typeof api_pb.DeleteReply;
};

type APIHas = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: false;
  readonly responseStream: false;
  readonly requestType: typeof api_pb.HasRequest;
  readonly responseType: typeof api_pb.HasReply;
};

type APIFind = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: false;
  readonly responseStream: false;
  readonly requestType: typeof api_pb.FindRequest;
  readonly responseType: typeof api_pb.FindReply;
};

type APIFindByID = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: false;
  readonly responseStream: false;
  readonly requestType: typeof api_pb.FindByIDRequest;
  readonly responseType: typeof api_pb.FindByIDReply;
};

type APIReadTransaction = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: true;
  readonly responseStream: true;
  readonly requestType: typeof api_pb.ReadTransactionRequest;
  readonly responseType: typeof api_pb.ReadTransactionReply;
};

type APIWriteTransaction = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: true;
  readonly responseStream: true;
  readonly requestType: typeof api_pb.WriteTransactionRequest;
  readonly responseType: typeof api_pb.WriteTransactionReply;
};

type APIListen = {
  readonly methodName: string;
  readonly service: typeof API;
  readonly requestStream: false;
  readonly responseStream: true;
  readonly requestType: typeof api_pb.ListenRequest;
  readonly responseType: typeof api_pb.ListenReply;
};

export class API {
  static readonly serviceName: string;
  static readonly GetToken: APIGetToken;
  static readonly NewDB: APINewDB;
  static readonly NewDBFromAddr: APINewDBFromAddr;
  static readonly GetDBInfo: APIGetDBInfo;
  static readonly DeleteDB: APIDeleteDB;
  static readonly NewCollection: APINewCollection;
  static readonly Create: APICreate;
  static readonly Save: APISave;
  static readonly Delete: APIDelete;
  static readonly Has: APIHas;
  static readonly Find: APIFind;
  static readonly FindByID: APIFindByID;
  static readonly ReadTransaction: APIReadTransaction;
  static readonly WriteTransaction: APIWriteTransaction;
  static readonly Listen: APIListen;
}

export type ServiceError = { message: string, code: number; metadata: grpc.Metadata }
export type Status = { details: string, code: number; metadata: grpc.Metadata }

interface UnaryResponse {
  cancel(): void;
}
interface ResponseStream<T> {
  cancel(): void;
  on(type: 'data', handler: (message: T) => void): ResponseStream<T>;
  on(type: 'end', handler: (status?: Status) => void): ResponseStream<T>;
  on(type: 'status', handler: (status: Status) => void): ResponseStream<T>;
}
interface RequestStream<T> {
  write(message: T): RequestStream<T>;
  end(): void;
  cancel(): void;
  on(type: 'end', handler: (status?: Status) => void): RequestStream<T>;
  on(type: 'status', handler: (status: Status) => void): RequestStream<T>;
}
interface BidirectionalStream<ReqT, ResT> {
  write(message: ReqT): BidirectionalStream<ReqT, ResT>;
  end(): void;
  cancel(): void;
  on(type: 'data', handler: (message: ResT) => void): BidirectionalStream<ReqT, ResT>;
  on(type: 'end', handler: (status?: Status) => void): BidirectionalStream<ReqT, ResT>;
  on(type: 'status', handler: (status: Status) => void): BidirectionalStream<ReqT, ResT>;
}

export class APIClient {
  readonly serviceHost: string;

  constructor(serviceHost: string, options?: grpc.RpcOptions);
  getToken(metadata?: grpc.Metadata): BidirectionalStream<api_pb.GetTokenRequest, api_pb.GetTokenReply>;
  newDB(
    requestMessage: api_pb.NewDBRequest,
    metadata: grpc.Metadata,
    callback: (error: ServiceError|null, responseMessage: api_pb.NewDBReply|null) => void
  ): UnaryResponse;
  newDB(
    requestMessage: api_pb.NewDBRequest,
    callback: (error: ServiceError|null, responseMessage: api_pb.NewDBReply|null) => void
  ): UnaryResponse;
  newDBFromAddr(
    requestMessage: api_pb.NewDBFromAddrRequest,
    metadata: grpc.Metadata,
    callback: (error: ServiceError|null, responseMessage: api_pb.NewDBReply|null) => void
  ): UnaryResponse;
  newDBFromAddr(
    requestMessage: api_pb.NewDBFromAddrRequest,
    callback: (error: ServiceError|null, responseMessage: api_pb.NewDBReply|null) => void
  ): UnaryResponse;
  getDBInfo(
    requestMessage: api_pb.GetDBInfoRequest,
    metadata: grpc.Metadata,
    callback: (error: ServiceError|null, responseMessage: api_pb.GetDBInfoReply|null) => void
  ): UnaryResponse;
  getDBInfo(
    requestMessage: api_pb.GetDBInfoRequest,
    callback: (error: ServiceError|null, responseMessage: api_pb.GetDBInfoReply|null) => void
  ): UnaryResponse;
  deleteDB(
    requestMessage: api_pb.DeleteDBRequest,
    metadata: grpc.Metadata,
    callback: (error: ServiceError|null, responseMessage: api_pb.DeleteDBReply|null) => void
  ): UnaryResponse;
  deleteDB(
    requestMessage: api_pb.DeleteDBRequest,
    callback: (error: ServiceError|null, responseMessage: api_pb.DeleteDBReply|null) => void
  ): UnaryResponse;
  newCollection(
    requestMessage: api_pb.NewCollectionRequest,
    metadata: grpc.Metadata,
    callback: (error: ServiceError|null, responseMessage: api_pb.NewCollectionReply|null) => void
  ): UnaryResponse;
  newCollection(
    requestMessage: api_pb.NewCollectionRequest,
    callback: (error: ServiceError|null, responseMessage: api_pb.NewCollectionReply|null) => void
  ): UnaryResponse;
  create(
    requestMessage: api_pb.CreateRequest,
    metadata: grpc.Metadata,
    callback: (error: ServiceError|null, responseMessage: api_pb.CreateReply|null) => void
  ): UnaryResponse;
  create(
    requestMessage: api_pb.CreateRequest,
    callback: (error: ServiceError|null, responseMessage: api_pb.CreateReply|null) => void
  ): UnaryResponse;
  save(
    requestMessage: api_pb.SaveRequest,
    metadata: grpc.Metadata,
    callback: (error: ServiceError|null, responseMessage: api_pb.SaveReply|null) => void
  ): UnaryResponse;
  save(
    requestMessage: api_pb.SaveRequest,
    callback: (error: ServiceError|null, responseMessage: api_pb.SaveReply|null) => void
  ): UnaryResponse;
  delete(
    requestMessage: api_pb.DeleteRequest,
    metadata: grpc.Metadata,
    callback: (error: ServiceError|null, responseMessage: api_pb.DeleteReply|null) => void
  ): UnaryResponse;
  delete(
    requestMessage: api_pb.DeleteRequest,
    callback: (error: ServiceError|null, responseMessage: api_pb.DeleteReply|null) => void
  ): UnaryResponse;
  has(
    requestMessage: api_pb.HasRequest,
    metadata: grpc.Metadata,
    callback: (error: ServiceError|null, responseMessage: api_pb.HasReply|null) => void
  ): UnaryResponse;
  has(
    requestMessage: api_pb.HasRequest,
    callback: (error: ServiceError|null, responseMessage: api_pb.HasReply|null) => void
  ): UnaryResponse;
  find(
    requestMessage: api_pb.FindRequest,
    metadata: grpc.Metadata,
    callback: (error: ServiceError|null, responseMessage: api_pb.FindReply|null) => void
  ): UnaryResponse;
  find(
    requestMessage: api_pb.FindRequest,
    callback: (error: ServiceError|null, responseMessage: api_pb.FindReply|null) => void
  ): UnaryResponse;
  findByID(
    requestMessage: api_pb.FindByIDRequest,
    metadata: grpc.Metadata,
    callback: (error: ServiceError|null, responseMessage: api_pb.FindByIDReply|null) => void
  ): UnaryResponse;
  findByID(
    requestMessage: api_pb.FindByIDRequest,
    callback: (error: ServiceError|null, responseMessage: api_pb.FindByIDReply|null) => void
  ): UnaryResponse;
  readTransaction(metadata?: grpc.Metadata): BidirectionalStream<api_pb.ReadTransactionRequest, api_pb.ReadTransactionReply>;
  writeTransaction(metadata?: grpc.Metadata): BidirectionalStream<api_pb.WriteTransactionRequest, api_pb.WriteTransactionReply>;
  listen(requestMessage: api_pb.ListenRequest, metadata?: grpc.Metadata): ResponseStream<api_pb.ListenReply>;
}

